{"ast":null,"code":"var _jsxFileName = \"/Users/katiewilcox/Documents/portfolio/Frontend/src/Components/Instagram.js\";\nimport React from 'react';\nimport '../Styles/sidebar.scss';\nvar url = 'https://www.instagram.com/katieroseeeee/';\n\nclass Instagram extends React.Component {\n  constructor(props) {\n    super(props);\n    this.getRecentPosts = this.getRecentPosts.bind(this);\n    this.getRecentPosts();\n  }\n\n  getRecentPosts() {\n    let posts = [];\n\n    const cheerio = require('cheerio');\n\n    const axios = require('axios');\n\n    axios.get(url).then(res => {\n      const $ = cheerio.load(res.data);\n      let script = $('script').eq(4).html();\n      let split = script.split(',');\n      let i = 0;\n      let numposts = 0;\n\n      for (i = 0; i < split.length; i++) {\n        if (split[i].includes(\"shortcode\")) {\n          if (numposts < 4) {\n            numposts++;\n            posts.push(split[i]);\n          }\n        }\n      }\n\n      for (i = 0; i < posts.length; i++) {\n        posts[i] = posts[i].split(':')[1].replace(/['\"]+/g, '');\n      }\n\n      url = url + 'p/';\n\n      for (i = 0; i < posts.length; i++) {\n        posts[i] = url + posts[i];\n      }\n    });\n    console.log(posts);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"instagram-widget\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"widget-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, \" Follow On Instagram\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"insta-widgets\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default Instagram;","map":{"version":3,"sources":["/Users/katiewilcox/Documents/portfolio/Frontend/src/Components/Instagram.js"],"names":["React","url","Instagram","Component","constructor","props","getRecentPosts","bind","posts","cheerio","require","axios","get","then","res","$","load","data","script","eq","html","split","i","numposts","length","includes","push","replace","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,wBAAP;AAIA,IAAIC,GAAG,GAAG,0CAAV;;AAGA,MAAMC,SAAN,SAAwBF,KAAK,CAACG,SAA9B,CAAuC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKD,cAAL;AACD;;AAEDA,EAAAA,cAAc,GAAE;AAEd,QAAIE,KAAK,GAAG,EAAZ;;AAEA,UAAMC,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,UAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACAC,IAAAA,KAAK,CAACC,GAAN,CAAUX,GAAV,EAAeY,IAAf,CAAoBC,GAAG,IAAI;AACzB,YAAMC,CAAC,GAAGN,OAAO,CAACO,IAAR,CAAaF,GAAG,CAACG,IAAjB,CAAV;AAEA,UAAIC,MAAM,GAAGH,CAAC,CAAC,QAAD,CAAD,CAAYI,EAAZ,CAAe,CAAf,EAAkBC,IAAlB,EAAb;AACA,UAAIC,KAAK,GAAGH,MAAM,CAACG,KAAP,CAAa,GAAb,CAAZ;AACA,UAAIC,CAAC,GAAG,CAAR;AACA,UAAIC,QAAQ,GAAG,CAAf;;AAGA,WAAID,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGD,KAAK,CAACG,MAArB,EAA6BF,CAAC,EAA9B,EAAiC;AAC/B,YAAGD,KAAK,CAACC,CAAD,CAAL,CAASG,QAAT,CAAkB,WAAlB,CAAH,EAAkC;AAChC,cAAGF,QAAQ,GAAG,CAAd,EAAgB;AACdA,YAAAA,QAAQ;AACRf,YAAAA,KAAK,CAACkB,IAAN,CAAWL,KAAK,CAACC,CAAD,CAAhB;AACD;AACF;AACF;;AAED,WAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGd,KAAK,CAACgB,MAAtB,EAA8BF,CAAC,EAA/B,EAAkC;AAChCd,QAAAA,KAAK,CAACc,CAAD,CAAL,GAAWd,KAAK,CAACc,CAAD,CAAL,CAASD,KAAT,CAAe,GAAf,EAAoB,CAApB,EAAuBM,OAAvB,CAA+B,QAA/B,EAAyC,EAAzC,CAAX;AACD;;AAED1B,MAAAA,GAAG,GAAGA,GAAG,GAAG,IAAZ;;AACA,WAAIqB,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGd,KAAK,CAACgB,MAArB,EAA6BF,CAAC,EAA9B,EAAkC;AAChCd,QAAAA,KAAK,CAACc,CAAD,CAAL,GAAWrB,GAAG,GAAGO,KAAK,CAACc,CAAD,CAAtB;AACD;AACF,KA1BD;AA4BAM,IAAAA,OAAO,CAACC,GAAR,CAAYrB,KAAZ;AACD;;AAEDsB,EAAAA,MAAM,GAAE;AACN,wBACE;AAAK,MAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAG,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AAAI,MAAA,SAAS,EAAG,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAOD;;AApDoC;;AAuDvC,eAAe5B,SAAf","sourcesContent":["import React from 'react';\nimport '../Styles/sidebar.scss';\n\n\n\nvar url = 'https://www.instagram.com/katieroseeeee/';\n\n\nclass Instagram extends React.Component{\n  constructor(props){\n    super(props)\n    this.getRecentPosts = this.getRecentPosts.bind(this);\n    this.getRecentPosts();\n  }\n\n  getRecentPosts(){\n    \n    let posts = [];\n\n    const cheerio = require('cheerio');\n    const axios = require('axios');\n    axios.get(url).then(res => {\n      const $ = cheerio.load(res.data);\n\n      let script = $('script').eq(4).html();\n      let split = script.split(',');\n      let i = 0;\n      let numposts = 0;\n\n\n      for(i = 0; i < split.length; i++){\n        if(split[i].includes(\"shortcode\")){\n          if(numposts < 4){\n            numposts++;\n            posts.push(split[i]);\n          }\n        }\n      }\n\n      for (i = 0; i < posts.length; i++){\n        posts[i] = posts[i].split(':')[1].replace(/['\"]+/g, '');\n      }\n\n      url = url + 'p/';\n      for(i = 0; i < posts.length; i++ ){\n        posts[i] = url + posts[i];\n      }\n    });\n\n    console.log(posts);\n  }\n\n  render(){\n    return(\n      <div className = \"instagram-widget\">\n        <h4 className = \"widget-title\"> Follow On Instagram</h4>\n        <ul className = \"insta-widgets\">\n        </ul>\n      </div>\n    );\n  }\n\n}\nexport default Instagram;\n"]},"metadata":{},"sourceType":"module"}